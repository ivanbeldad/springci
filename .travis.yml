language: java

addons:
  sonarcloud:
    organization: "ivandelabeldad-github" # the key of the org you chose at step #3
    token:
      secure: TKhKjbijSCXqtMC1lk/9EFS/KdAKccJAs0+q3Xfqxk2m+zXBGqymlVLsL3YkKFOBA4riu0inCQ74E0dUt2khyeFJgFHLCD5NcZQy1k2Wr28d5ZijYAqtKJNkRm8fgUQFfOnmSCZDWWkEUpR8ajj2KPSNY34fTvA9BRTW3apaMRR5l2OxFsBYmDVJnb1tSlMjEDARjQvxq5M0L8hj+E2D3HLo24a2OAXgW/BgkW49ZvbFDO6GEh+Y3iKoQ8oW6G06g6J+n+klW3qxX5uC0FR/B5MWgJZmFoMbr5mpwt2awa8ErkKhoLYeJ1bh6uJJSg4onBtHi7bOceA1HnQ5WEGakdDAzxHO7VrybJ4UlQFlJv7RaJ/LO8f3rKXdY5DoLXrXO/K2kQud/1h7Uu10nmlJikA1/O8cLdTsDnKSjA4Cl+taBGM7iPg0w8RvCzkjFDXOMK5+RDHdmR5gB/xQk47RynTr052/us7+SVAzhBWZQoy/BcygDWqaGHIqj3R7xbWOc4yuQAYhUYVEBV9ocO4UMklJEa6KskFF4DLe3uNuLNkOiDv8pt2r+8rvIvIyDLlncNR6aQ9cW4aVETNXV9xEDNHhxg/R8UAiQRJnhzJfgYBH4hrtUPDyv8l9U4pcsOFBQrJDkm2FUa3rKeKlX75WLdzOGgobcEPqknTMsrqMW4I= # encrypted value of your token
script:
  # the following command line builds the project, runs the tests with coverage and then execute the SonarCloud analysis
  - mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent install sonar:sonar

env:
  global:
    - "FTP_USER=IBKtD5151yqKUyW1pu2MOxK8vGtVg2ysr+8F3VPpwEImAhcQ6jbxdXqPHhjGEtCLQQIpxQftb4Bxs6VKqF7jMzufHrLHmMZpBJPtzpjhQAgd2YX1FEhLcn540yvAVBJXF14L57FYmTxyPGf94tOiPI5TwLA9YB3y8WA9t2Gy+fVS8qvQ6rcXaY6NArIwp4gjm6eIdzh5x2KnK0Frz98ygSsoJEmj+tKl4NXVPxH1cIsREdG+UNHGbWuygXTsPD1lPyRXnwHs2yS13ziUAgR+LcHWsTZg6zOMuFXfm9WtHsSvK2H+1MtLWKgIQDpoBtBwpN1boACEJMbiBfCEA43HgdbXfRD3iPfrSX55wuHmwiIFprQRk1oIbkoXueHWVtoU+PDXS2GIwI7JCYSYDj+VIC4C9fwsaxWrw0Px3LQzd8n6t0fR3+SNvvFJartD28DtxQ4J494o3v5mPybU0avSnkcVZ8DWUsMxgM5OhyuilAz1qEXLeT/aZa/nne6XTGyuAQ53cZ+8FF0IW6fqGFFGsMkWiXziW08Usjg2TN8Hyg8lFmH1NL77K6ric1EsWjaJKKO4B11OUARFuBYzXD+X0SzA5+n3ix3m3U0hMyG/0nm/bJlr09IADH05O4flmk+JZc/pYT/BkQ9+MblpPiMxSK2H6f6xZ3nPdNtDxiBuFfU="
    - "FTP_PASSWORD=nOZHEnURb9x7EICt3JmnTxqa87iulVSu7VPcXiHSu39v8wPkpPYDd4HYmFiesFv5FsGaNjPIPk1D/KnZVc7aCdxaAcSIX9HyQge6gzEBcOTz3Y9F4+9AS/zcvWox6hdrZHZS3PUA0cdiu9/Vam7DMhYcUThM7EPv1IPc0ndqEXL2ljGQ7uecvJ/H1KU0uKlAlLIUH00nWzDdJO6bvOpBDA8v6KMSfz0bWQMSVu72LiOxf4pAMFM+E/aoqKolgj8vUorx0v3HZZJNDOT0O8Nc7gHmAzSBN0skQHFfK+E/etGPBmHxQUf96VT2uaORem/MLd6aNSGK+i52AQ5akFttwAtlJgMGKKhRsMXGsPpEmTDbVciR2aDM8RezgOlkhXvUL+CqGKVegm+LZnKVAk74ZyDD9OUZ5XIN+X4QDNhn6VxU5PZ1vDx0m5t3D0P2jnFIEnpG1GZxHRx4gRayiLDOU/lh66ZR56L/x8wFJJwBUbN6TlWvpwW6F2HL1/AxObE6QLGcMhIzsZbHxJV3lGJmE0gqXAh7lxkpb4LlxU9gLNXEvAnAQpSwRW1/AptJf2Uh1p0UoCXGCbGSymcGWA6a+KBhQhW1+ot7zvuBD0lUmP+Gl8+t/1aBOmVimgkYcTc/6cy4jZQbMd94FVm67ghlQvBZ1HheO2ew1OfbAHUoMbA="
after_success:
    "curl --ftp-create-dirs -T target/springci-0.0.1.war -o ROOT.war -u $FTP_USER:$FTP_PASSWORD ftp://springci.rackian.com"